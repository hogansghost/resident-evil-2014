alert("loading");
(function(e){function t(t,n){var r=this;this.touch="ontouchstart"in document.documentElement?true:false,this.event={click:r.touch?"tap":"click",start:r.touch?"touchstart":"mousedown",end:r.touch?"touchend":"mouseup",move:r.touch?"touchmove":"mousemove"},this.target={touching:false,moving:false,starttouch:"",startX:"",startY:"",endtouch:"",endX:"",endY:""},this.variable={touching:false,currentPosition:"",pageCount:1},this.html={name:".slide",elem:e(t),page:e(t).find(".slide-page"),rail:e(t).find(".slide-rail")},this.defaults={current:0,delay:5e3,transition:500};this.options=e.extend({},r.defaults,n);this.checkElements();this.init()}if(jQuery===undefined){console.warn("jQuery required for this plugin.");return}t.prototype={init:function(){var e=this;console.log("INIT SLIDER");this.setWidths();this.buildPageNotification();this.bindEvents()},checkElements:function(){var e=this;for(var t in e.html){if(e.html.hasOwnProperty(t)){if(e.html[t].length<=0){console.warn("Slider HTML is incorrect. Check containers and class names.");return}}}},setWidths:function(){var e=this;e.variable.pageCount=e.html.page.length;e.html.rail[0].style.width=e.html.elem.outerWidth(true)*e.variable.pageCount+"px";for(var t=0;t<e.variable.pageCount;t++){e.html.page[t].style.width=e.html.elem.outerWidth(true)+"px"}},bindEvents:function(){var t=this;t.html.elem.on(t.event.start,t.interactStart.bind(t));e(document).on(t.event.move,t.interactMove.bind(t));e(document).on(t.event.end,t.interactEnd.bind(t));t.html.elem.find(".next").on("tap",t.clickNext.bind(t));t.html.elem.find(".prev").on("tap",t.clickPrev.bind(t));e(window).on("resize",t.setWidths.bind(t))},animateDrag:function(e){var t=e===undefined?this.current*this.width:e*this.width;this.$rail.css({"-webkit-transform":"translate3d(-"+t+"px,0px,0px)","-moz-transform":"translate3d(-"+t+"px,0px,0px)","-o-transform":"translate3d(-"+t+"px,0px,0px)",transform:"translate3d(-"+t+"px,0px,0px)"})},animateComplete:function(){},difference:function(e,t){return Math.abs(Math.floor(e)-Math.floor(t))},setCurrentPosition:function(){var e=this;e.variable.calcPosition=window.getComputedStyle(e.html.rail[0]).getPropertyValue("-webkit-transform")||window.getComputedStyle(e.html.rail[0]).getPropertyValue("-moz-transform")||window.getComputedStyle(e.html.rail[0]).getPropertyValue("transform");e.variable.calcPositionArray=e.variable.calcPosition.split("(")[1].split(")")[0].split(" ").join("").split(",")},getEventPosition:function(e){var t=this,n=e.timeStamp,r,i;if(e.type==t.event.end){r=Math.floor(t.touch?e.originalEvent.changedTouches[0].clientX:e.originalEvent.clientX);i=Math.floor(t.touch?e.originalEvent.changedTouches[0].clientY:e.originalEvent.clientY)}else{r=Math.floor(t.touch?e.originalEvent.targetTouches[0].clientX:e.originalEvent.clientX);i=Math.floor(t.touch?e.originalEvent.targetTouches[0].clientY:e.originalEvent.clientY)}return[n,r,i]},interactStart:function(e){var t=this;t.variable.touching=true;t.target.starttouch=t.getEventPosition(e)[0];t.target.startX=t.getEventPosition(e)[1];t.target.startY=t.getEventPosition(e)[2];t.setCurrentPosition();t.html.rail[0].style.webkitTransform="translate3d("+t.variable.calcPositionArray[4]+"px,0px,0px)";t.html.rail[0].style.mozTransform="translate3d("+t.variable.calcPositionArray[4]+"px,0px,0px)";t.html.rail[0].style.transform="translate3d("+t.variable.calcPositionArray[4]+"px,0px,0px)";t.html.rail.removeClass("slide-animate");if(t.variable.calcPosition.indexOf("matrix3d")>=0){t.variable.currentPosition=+t.variable.calcPositionArray[12]}else{t.variable.currentPosition=+t.variable.calcPositionArray[4]}},interactMove:function(e){var t=this;if(t.variable.touching==false)return;t.target.endtouch=t.getEventPosition(e)[0];t.target.endX=t.getEventPosition(e)[1];t.target.endY=t.getEventPosition(e)[2];if(t.difference(t.target.startY,t.target.endY)<=t.difference(t.target.startX,t.target.endX))e.preventDefault();else return;t.setCurrentPosition();var n=-1;if(t.target.startX<=t.target.endX)n=1;t.html.rail[0].style.webkitTransform="translate3d("+(t.variable.currentPosition+t.difference(t.target.startX,t.target.endX)*n)+"px,0px,0px)";t.html.rail[0].style.mozTransform="translate3d("+(t.variable.currentPosition+t.difference(t.target.startX,t.target.endX)*n)+"px,0px,0px)";t.html.rail[0].style.transform="translate3d("+(t.variable.currentPosition+t.difference(t.target.startX,t.target.endX)*n)+"px,0px,0px)"},interactEnd:function(t){var n=this;if(n.variable.touching==false)return;n.variable.touching=false;n.target.endtouch=n.getEventPosition(t)[0];n.target.endX=n.getEventPosition(t)[1];n.target.endY=n.getEventPosition(t)[2];n.animateSlide();if(n.difference(n.target.startY,n.target.endY)<=18&&n.difference(n.target.startX,n.target.endX)<=18&&n.difference(n.target.starttouch,n.target.endtouch)<=200){e(t.target).trigger("tap")}},animateSlide:function(){var e=this;e.html.rail.addClass("slide-animate");if(e.difference(e.target.startX,e.target.endX)>=e.html.page[0].clientWidth/6){if(e.target.startX>=e.target.endX){e.options.current=e.options.current-1}else if(e.target.startX<e.target.endX){e.options.current=e.options.current+1}else{e.options.current=e.options.current}}e.updatePageNotification();if(e.options.current>0)e.options.current=(e.html.page.length-1)*-1;else if(e.options.current<=e.html.page.length*-1)e.options.current=0;e.html.rail[0].style.webkitTransform="translate3d("+e.html.page[0].clientWidth*e.options.current+"px,0px,0px)";e.html.rail[0].style.mozTransform="translate3d("+e.html.page[0].clientWidth*e.options.current+"px,0px,0px)";e.html.rail[0].style.transform="translate3d("+e.html.page[0].clientWidth*e.options.current+"px,0px,0px)"},clickPrev:function(e){e.preventDefault();var t=this;t.options.current=t.options.current+1;t.animateSlide()},clickNext:function(e){e.preventDefault();var t=this;t.options.current=t.options.current-1;t.animateSlide()},buildPageNotification:function(){var e=this,t="";for(var n=0;n<e.variable.pageCount;n++){t+="<span></span>"}e.html.elem.append('<div class="slide-control next"></div><div class="slide-control prev"></div><div class="slide-indicator">'+t+"</div>");e.updatePageNotification()},updatePageNotification:function(){var e=this,t=e.options.current*-1,n=t>=e.variable.pageCount?0:t;console.log(t);console.log(n);e.html.elem.find(".slide-indicator span").removeClass("active").eq(n).addClass("active")}};e.fn.swipeCarousel=function(e){return this.each(function(){var n=new t(this,e)})}})(jQuery)